<aura:component
  access="global"
  controller="PowerBiEmbedManager"
  implements="force:appHostable,flexipage:availableForAllPageTypes"
>
  <aura:attribute name="workspaceId" type="String" default="" />
  <aura:attribute name="dashboardId" type="String" default="" />
  <aura:attribute name="errorMessage" type="String" default="" />
  <aura:attribute name="errorMessage1" type="String" default="" />
  <aura:attribute name="ShowDashboard" type="Boolean" default="true"/>
  <aura:attribute name="iframeUrl" type="String" />

  <ltng:require
    scripts="{!$Resource.powerbijs}"
    afterScriptsLoaded="{!c.afterScriptsLoaded}"
  />
 <aura:if isTrue ="{!v.ShowDashboard}">
  <lightning:card title="Embedded Power BI Dashboard (AURA)" class="mainCard" iconName="utility:graph" >
    <div>
      <div aura:id="error-message" class="error-message" >{!v.errorMessage}</div>
      <div aura:id="embed-container" style="height: 560px"></div>  
    </div>
  </lightning:card>
</aura:if>
<aura:if istrue ="{!!v.ShowDashboard}">
<lightning:card title="Embedded Power BI Report (AURA)" class="mainCard" iconName="utility:graph" >
  <aura:set attribute="actions">
    <lightning:button variant="neutral" 
                      label="Back!" 
                      iconName="utility:back" 
                      iconPosition="right" onclick="{!c.Gobacktodashboard}"/>
  </aura:set>
    <div>
      <!-- <iframe src="{!v.iframeUrl}" width="100%" height="560px;" frameBorder="0"/> -->
      <div aura:id="error-message1" class="error-message" >{!v.errorMessage1}</div>
      <div aura:id="embed-container1" style="height: 560px"></div>  
    </div>
  </lightning:card>
</aura:if>
</aura:component>
